<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Vanstra Capital</title>
    <meta name="description" content="Vanstra Capital Administrative Panel - Manage customer support, view accounts, and monitor system status.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    
    <!-- Custom Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --midnight-navy: #041225;
            --deep-slate: #0B2A3F;
            --gold-accent: #C89A3A;
            --soft-white: #F7F8FA;
            --gray: #8B96A3;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--soft-white);
            color: var(--midnight-navy);
        }
        
        .font-serif {
            font-family: 'Playfair Display', serif;
        }
        
        .gold-accent {
            color: var(--gold-accent);
        }
        
        .bg-gold {
            background-color: var(--gold-accent);
        }
        
        .text-navy {
            color: var(--midnight-navy);
        }
        
        .bg-navy {
            background-color: var(--midnight-navy);
        }
        
        .sidebar {
            background-color: var(--midnight-navy);
            min-height: 100vh;
        }
        
        .sidebar-nav {
            background-color: var(--deep-slate);
        }
        
        .nav-item {
            transition: all 0.3s ease;
        }
        
        .nav-item:hover {
            background-color: rgba(200, 154, 58, 0.1);
        }
        
        .nav-item.active {
            background-color: var(--gold-accent);
            color: white;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1);
        }
        
        .status-active {
            background-color: #10B981;
            color: white;
        }
        
        .status-pending {
            background-color: #F59E0B;
            color: white;
        }
        
        .status-suspended {
            background-color: #EF4444;
            color: white;
        }
        
        .priority-high {
            background-color: #EF4444;
            color: white;
        }
        
        .priority-medium {
            background-color: #F59E0B;
            color: white;
        }
        
        .priority-low {
            background-color: #10B981;
            color: white;
        }
    </style>
</head>
<body>
    <div class="flex">
        <!-- Sidebar -->
        <div class="sidebar w-64 text-white">
            <div class="p-6">
                <div class="flex items-center mb-8">
                    <img src="resources/logo-primary.svg" alt="Vanstra Capital" class="h-10 w-auto">
                    <span class="ml-3 text-xl font-serif font-bold">Admin Panel</span>
                </div>
                
                <nav class="space-y-2">
                    <a href="#" class="nav-item active flex items-center px-4 py-3 rounded-lg" data-section="dashboard">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"></path>
                        </svg>
                        Dashboard
                    </a>
                    
                    <a href="#" class="nav-item flex items-center px-4 py-3 rounded-lg" data-section="messages">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                        </svg>
                        Support Messages
                        <span id="messageCount" class="ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full">0</span>
                    </a>
                    
                    <a href="#" class="nav-item flex items-center px-4 py-3 rounded-lg" data-section="accounts">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        </svg>
                        User Accounts
                    </a>
                    
                    <a href="#" class="nav-item flex items-center px-4 py-3 rounded-lg" data-section="analytics">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                        Analytics
                    </a>
                    
                    <a href="#" class="nav-item flex items-center px-4 py-3 rounded-lg" data-section="settings">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        Settings
                    </a>
                </nav>
            </div>
            
            <div class="absolute bottom-6 left-6 right-6">
                <a href="index.html" class="nav-item flex items-center px-4 py-3 rounded-lg text-red-400 hover:bg-red-400 hover:text-white">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                    </svg>
                    Logout
                </a>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="flex-1 p-8">
            <!-- Dashboard Section -->
            <div id="dashboard-section" class="section-content">
                <div class="mb-8">
                    <h1 class="text-3xl font-serif font-bold text-navy mb-2">Admin Dashboard</h1>
                    <p class="text-gray-600">Welcome back, Admin. Here's what's happening with Vanstra Capital today.</p>
                </div>
                
                <!-- Stats Cards -->
                <div class="grid md:grid-cols-4 gap-6 mb-8">
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="text-3xl font-bold text-navy" id="totalAccounts">5</div>
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="text-sm text-gray-600">Total Accounts</div>
                    </div>
                    
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="text-3xl font-bold text-navy" id="totalBalance">€71,008.40</div>
                            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="text-sm text-gray-600">Total Balance</div>
                    </div>
                    
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="text-3xl font-bold text-navy" id="activeMessages">0</div>
                            <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="text-sm text-gray-600">Support Messages</div>
                    </div>
                    
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="text-3xl font-bold text-navy">99.9%</div>
                            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="text-sm text-gray-600">System Uptime</div>
                    </div>
                </div>
                
                <!-- Recent Activity -->
                <div class="card p-6">
                    <h3 class="text-xl font-semibold mb-4">Recent Activity</h3>
                    <div class="space-y-4">
                        <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-4">
                                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium">New account opened</div>
                                <div class="text-sm text-gray-600">Thomas Becker - Account #7849</div>
                            </div>
                            <div class="text-sm text-gray-500">2 hours ago</div>
                        </div>
                        
                        <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                            <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-4">
                                <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium">Security check completed</div>
                                <div class="text-sm text-gray-600">System scan - No issues detected</div>
                            </div>
                            <div class="text-sm text-gray-500">4 hours ago</div>
                        </div>
                        
                        <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                            <div class="w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center mr-4">
                                <svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                                </svg>
                            </div>
                            <div class="flex-1">
                                <div class="font-medium">Support message received</div>
                                <div class="text-sm text-gray-600">Customer inquiry about wire transfers</div>
                            </div>
                            <div class="text-sm text-gray-500">6 hours ago</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Support Messages Section -->
            <div id="messages-section" class="section-content hidden">
                <div class="mb-8">
                    <h1 class="text-3xl font-serif font-bold text-navy mb-2">Support Messages</h1>
                    <p class="text-gray-600">Manage customer inquiries and support requests.</p>
                </div>
                
                <div class="card p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-semibold">Customer Messages</h3>
                        <div class="flex space-x-2">
                            <button class="px-4 py-2 bg-gold-accent text-white rounded-lg hover:bg-opacity-90">All</button>
                            <button class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">Unread</button>
                            <button class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">Replied</button>
                        </div>
                    </div>
                    
                    <div id="messagesList" class="space-y-4">
                        <!-- Messages will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <!-- User Accounts Section -->
            <div id="accounts-section" class="section-content hidden">
                <div class="mb-8">
                    <h1 class="text-3xl font-serif font-bold text-navy mb-2">User Accounts</h1>
                    <p class="text-gray-600">View and manage customer accounts.</p>
                </div>
                
                <div class="card p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-semibold">Account List</h3>
                        <div class="flex space-x-2">
                            <input type="text" placeholder="Search accounts..." class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold-accent">
                            <button class="px-4 py-2 bg-gold-accent text-white rounded-lg hover:bg-opacity-90">Search</button>
                        </div>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr class="border-b border-gray-200">
                                    <th class="text-left py-3 px-4 font-semibold">Account ID</th>
                                    <th class="text-left py-3 px-4 font-semibold">Customer Name</th>
                                    <th class="text-left py-3 px-4 font-semibold">Email</th>
                                    <th class="text-left py-3 px-4 font-semibold">Balance</th>
                                    <th class="text-left py-3 px-4 font-semibold">Status</th>
                                    <th class="text-left py-3 px-4 font-semibold">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="accountsTable">
                                <!-- Accounts will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Analytics Section -->
            <div id="analytics-section" class="section-content hidden">
                <div class="mb-8">
                    <h1 class="text-3xl font-serif font-bold text-navy mb-2">Analytics</h1>
                    <p class="text-gray-600">Monitor system performance and user activity.</p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold mb-4">Account Growth</h3>
                        <div id="accountGrowthChart" style="height: 300px;"></div>
                    </div>
                    
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold mb-4">Revenue Overview</h3>
                        <div id="revenueChart" style="height: 300px;"></div>
                    </div>
                </div>
            </div>
            
            <!-- Settings Section -->
            <div id="settings-section" class="section-content hidden">
                <div class="mb-8">
                    <h1 class="text-3xl font-serif font-bold text-navy mb-2">Settings</h1>
                    <p class="text-gray-600">Configure admin panel preferences and system settings.</p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold mb-4">System Configuration</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <span>Maintenance Mode</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gold-accent"></div>
                                </label>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <span>Email Notifications</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" checked class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gold-accent"></div>
                                </label>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <span>Auto-Reply</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gold-accent"></div>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold mb-4">Admin Profile</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Admin Email</label>
                                <input type="email" value="admin@vanstra.com" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold-accent">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Change Password</label>
                                <input type="password" placeholder="New password" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold-accent">
                            </div>
                            
                            <button class="w-full px-4 py-2 bg-gold-accent text-white rounded-lg hover:bg-opacity-90">
                                Save Changes
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Admin panel functionality
        document.addEventListener('DOMContentLoaded', function() {
            initializeAdminPanel();
            loadSupportMessages();
            loadUserAccounts();
            initializeCharts();
        });
        
        function initializeAdminPanel() {
            // Navigation
            const navItems = document.querySelectorAll('.nav-item[data-section]');
            navItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const section = this.getAttribute('data-section');
                    showSection(section);
                    
                    // Update active nav item
                    navItems.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Check for unread messages
            updateMessageCount();
        }
        
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section-content').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(sectionName + '-section').classList.remove('hidden');
        }
        
        function loadSupportMessages() {
            const messages = JSON.parse(localStorage.getItem('adminMessages') || '[]');
            const messagesList = document.getElementById('messagesList');
            
            if (messages.length === 0) {
                messagesList.innerHTML = '<div class="text-center text-gray-500 py-8">No support messages yet.</div>';
                return;
            }
            
            messagesList.innerHTML = messages.map(message => `
                <div class="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                    <div class="flex items-start justify-between mb-2">
                        <div>
                            <div class="font-semibold">${message.name}</div>
                            <div class="text-sm text-gray-600">${message.email}</div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="priority-${message.priority} px-2 py-1 rounded-full text-xs">${message.priority}</span>
                            <span class="text-sm text-gray-500">${new Date(message.timestamp).toLocaleDateString()}</span>
                        </div>
                    </div>
                    <div class="text-gray-700 mb-3">${message.message}</div>
                    <div class="flex space-x-2">
                        <button onclick="replyToMessage('${message.id}')" class="px-3 py-1 bg-gold-accent text-white rounded text-sm hover:bg-opacity-90">Reply</button>
                        <button onclick="markAsResolved('${message.id}')" class="px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50">Mark Resolved</button>
                    </div>
                </div>
            `).join('');
        }
        
        function loadUserAccounts() {
            const accounts = JSON.parse(localStorage.getItem('mockUserAccounts') || '[]');
            const accountsTable = document.getElementById('accountsTable');
            
            accountsTable.innerHTML = accounts.map(account => `
                <tr class="border-b border-gray-100 hover:bg-gray-50">
                    <td class="py-3 px-4">#${account.id.toString().padStart(4, '0')}</td>
                    <td class="py-3 px-4">${account.name}</td>
                    <td class="py-3 px-4">${account.email}</td>
                    <td class="py-3 px-4 font-semibold">€${account.balance.toLocaleString('de-DE', {minimumFractionDigits: 2})}</td>
                    <td class="py-3 px-4">
                        <span class="status-${account.status.toLowerCase()} px-2 py-1 rounded-full text-xs">${account.status}</span>
                    </td>
                    <td class="py-3 px-4">
                        <div class="flex space-x-2">
                            <button class="text-blue-600 hover:text-blue-800 text-sm">View</button>
                            <button class="text-gold-accent hover:text-opacity-80 text-sm">Edit</button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }
        
        function updateMessageCount() {
            const messages = JSON.parse(localStorage.getItem('adminMessages') || '[]');
            const unreadCount = messages.filter(msg => !msg.resolved).length;
            document.getElementById('messageCount').textContent = unreadCount;
        }
        
        function replyToMessage(messageId) {
            alert('Reply functionality would open a reply form here.');
        }
        
        function markAsResolved(messageId) {
            const messages = JSON.parse(localStorage.getItem('adminMessages') || '[]');
            const updatedMessages = messages.map(msg => 
                msg.id === messageId ? { ...msg, resolved: true } : msg
            );
            localStorage.setItem('adminMessages', JSON.stringify(updatedMessages));
            loadSupportMessages();
            updateMessageCount();
        }
        
        function initializeCharts() {
            // Account Growth Chart
            const accountChart = echarts.init(document.getElementById('accountGrowthChart'));
            const accountOption = {
                backgroundColor: 'transparent',
                grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
                xAxis: {
                    type: 'category',
                    data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    axisLine: { lineStyle: { color: '#8B96A3' } },
                    axisLabel: { color: '#8B96A3' }
                },
                yAxis: {
                    type: 'value',
                    axisLine: { lineStyle: { color: '#8B96A3' } },
                    axisLabel: { color: '#8B96A3' },
                    splitLine: { lineStyle: { color: '#E5E7EB', type: 'dashed' } }
                },
                series: [{
                    data: [2, 3, 4, 4, 5, 5],
                    type: 'line',
                    smooth: true,
                    lineStyle: { color: '#C89A3A', width: 3 },
                    itemStyle: { color: '#C89A3A' },
                    areaStyle: {
                        color: {
                            type: 'linear',
                            x: 0, y: 0, x2: 0, y2: 1,
                            colorStops: [
                                { offset: 0, color: 'rgba(200, 154, 58, 0.3)' },
                                { offset: 1, color: 'rgba(200, 154, 58, 0.05)' }
                            ]
                        }
                    }
                }]
            };
            accountChart.setOption(accountOption);
            
            // Revenue Chart
            const revenueChart = echarts.init(document.getElementById('revenueChart'));
            const revenueOption = {
                backgroundColor: 'transparent',
                grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
                xAxis: {
                    type: 'category',
                    data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    axisLine: { lineStyle: { color: '#8B96A3' } },
                    axisLabel: { color: '#8B96A3' }
                },
                yAxis: {
                    type: 'value',
                    axisLine: { lineStyle: { color: '#8B96A3' } },
                    axisLabel: { color: '#8B96A3', formatter: '€{value}K' },
                    splitLine: { lineStyle: { color: '#E5E7EB', type: 'dashed' } }
                },
                series: [{
                    data: [12, 19, 15, 17, 21, 25],
                    type: 'bar',
                    itemStyle: { color: '#C89A3A' },
                    barWidth: '60%'
                }]
            };
            revenueChart.setOption(revenueOption);
        }
    </script>
</body>
</html>